<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en" class=""> 
 <head> 
  <title>Login</title> 
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="Imagetoolbar" content="no"> 
  <link rel="shortcut icon" href="/content/Images/chapman_favicon.ico?_7.48.0"> 
  <link rel="apple-touch-icon" href="/content/Images/branding/home-screen-icon.png?_7.48.0"> <!-- inclusion of bootstrap specific CSS --> <!-- http://twitter.github.com for documentation on bootstrap --> 
  <link rel="Stylesheet" href="/lib/bootstrap/css/bootstrap.min.css?_7.48.0"> <!-- end of bootstrap specific CSS --> <!-- include the font awesome css for font icons--> 
  <link rel="Stylesheet" href="/lib/fontawesome-free/css/all.min.css"> 
  <link rel="stylesheet" href="../../content/images/branding/global.css?_=7.48.0" type="text/css"> <!--[if lt IE 9]>
    <link rel="stylesheet" href="../../content/images/branding/global_IE.css?_7.48.0" type="text/css">
<![endif]--> 
  <script src="/lib/jquery/jquery.min.js?_=7.48.0" type="text/javascript"></script> 
  <script language="Javascript">
	
</script> 
  <link rel="stylesheet" href="/content/Files/CSS/cu_branding_2022-05-26.css?_=7.48.0" type="text/css"> 
  <script type="text/javascript">

</script> 
  <script type="text/javascript">
  // Check whether cookies are enabled.
	document.cookie = "TestCookie=1";
	var testCookie = document.cookie;

	// Try to retrieve the value we just set.
	if (testCookie.indexOf("TestCookie=1") == -1)
	{
		
		    document.location = "error.asp?nocookie=";
		
    }
	else
		document.cookie = "TestCookie=;expires=Thu, 01-Jan-1970 00:00:00 GMT";
</script> 
  <script type="text/javascript">

function setRSVPButtons(response, eventCode)
{
                var url = '/' + eventCode + '/invited?user=' + response.authResponse.userID + '&access_token=' + response.authResponse.accessToken;
                 FB.api(url, 'get',
                 function (response) {
                    if (!response || response.error) {
                      new showAlertPopup("Error occurred:" + response.error.message, "", "", "", "", "");
                    }
                    else
                    {
                        if (response.data[0].rsvp_status == "attending")
                        {
                            var buttons = document.getElementsByName("attendingButton" + eventCode);
                            for (var x = 0; x < buttons.length; x++)
                            {
                                buttons.item(x).disabled = true;
                                buttons.item(x).style.display = "inline";
                            }
                            buttons = document.getElementsByName("maybeButton" + eventCode);
                            for (var x = 0; x < buttons.length; x++)
                            {
                                buttons.item(x).style.display = "inline";
                            }
                        }
                        else if (response.data[0].rsvp_status == "unsure")
                        {
                            var buttons = document.getElementsByName("attendingButton" + eventCode);
                            for (var x = 0; x < buttons.length; x++)
                            {
                                buttons.item(x).style.display = "inline";
                            }
                            buttons = document.getElementsByName("maybeButton" + eventCode);
                            for (var x = 0; x < buttons.length; x++)
                            {
                                buttons.item(x).disabled = true;
                                buttons.item(x).style.display = "inline";
                            }
                        }
                        else
                        {
                            var buttons = document.getElementsByName("attendingButton" + eventCode);
                            for (var x = 0; x < buttons.length; x++)
                            {
                                buttons.item(x).style.display = "inline";
                            }
                            buttons = document.getElementsByName("maybeButton" + eventCode);
                            for (var x = 0; x < buttons.length; x++)
                            {
                                buttons.item(x).style.display = "inline";
                            }
                        }
                    }
                });
}
function setRSVPButtonsLogin(eventCode)
{
        FB.getLoginStatus(function (response) {
            if (response.status == 'connected') {
                setRSVPButtons(response, eventCode);
            }
            else {
                FB.login(function (response) {
                    if (response.authResponse) {
                        setRSVPButtons(response, eventCode);
                    } else {
                    }
                }, { scope: 'rsvp_event,email,user_groups,publish_stream' });
            }
        });
        return true;
}

function rsvpToFBEvent(status, response, eventCode)
{

                var url = '/' + eventCode + '/' + status + '?access_token=' + response.authResponse.accessToken;

                 FB.api(url, 'post',
                 function (response) {
                    if (!response || response.error) {
                      new showAlertPopup("Error occurred:" + response.error.message, "", "", "", "", "");
                    }
                    else
                    {
                      gaTrackEvent('Facebook', 'RSVP to Event Success');

                        if (status == "attending")
                        {
                            var buttons = document.getElementsByName("attendingButton" + eventCode);
                            for (var x = 0; x < buttons.length; x++)
                            {
                                buttons.item(x).disabled = true;
                            }
                            buttons = document.getElementsByName("maybeButton" + eventCode);
                            for (var x = 0; x < buttons.length; x++)
                            {
                                buttons.item(x).disabled = false;
                            }
                        }
                        else if (status == "maybe")
                        {
                            var buttons = document.getElementsByName("maybeButton" + eventCode);
                            for (var x = 0; x < buttons.length; x++)
                            {
                                buttons.item(x).disabled = true;
                            }
                            buttons = document.getElementsByName("attendingButton" + eventCode);
                            for (var x = 0; x < buttons.length; x++)
                            {
                                buttons.item(x).disabled = false;
                            }
                        }
                    }
                 });
}

function rsvpToFBEventLogin(status, eventCode) {

        FB.getLoginStatus(function (response) {
            if (response.status == 'connected') {
                rsvpToFBEvent(status, response, eventCode);
            }
            else {
                FB.login(function (response) {
                    if (response.authResponse) {
                        rsvpToFBEvent(status, response, eventCode);
                    } else {
                    }
                }, { scope: 'rsvp_event,email,user_groups,publish_stream' });
            }
        });
        return true;
}
</script> 
  <script type="text/javascript" src="../Common/browser_detect.js?_=7.48.0"></script> 
  <script type="text/javascript">
  var genericConfirmationMessage = "Are you sure?";
  var offerExpired = "Your order has expired.";
  var admissionsExpired = "An offer on one of your tickets has expired.";
  var alertHeaderText = "Attention";
  var termsHeaderText = "Terms and Conditions";
  var helpHeaderText = "Help";
  var sectionHeaderText = "More Information";

  var okayButtonText = "OK";
  var cancelButtonText = "Cancel";
  var acceptButtonText = "Accept";
  var declineButtonText = "Decline";
  var closeButtonText = "Close";

  var sTokenName = 'sToken';
  var sToken = '1,afa69454,62aaa4c1,297E1D84-F698-49FC-A391-EF0707FD863E,26a3NPt62KBIiQJSJZiX0cLXCMs=';
</script> 
  <script type="text/javascript" src="../Common/online-jscript.js?_=7.48.0"></script> 
  <script type="text/javascript" src="../Common/online-navigation-jscript.js?_=7.48.0"></script> 
  <script type="text/javascript" src="../Common/Widgets/widgetParent.js?_=7.48.0"></script> 
  <script type="text/javascript">
/*

*/
function displayMessage(onClickEvent)
{

}

function tsOrderChanged( url )
{
  new showConfirmPopup( '', 'The current order has unsaved changes that may be lost. Continue anyway?', function () { document.location = url }, '' );
}

// Used for drop-down menu in IE 6
<!--//--><![CDATA[//><!--
function startList() {
	if (document.all&&document.getElementById) {
		navRoot = document.getElementById("menuTop");
		for (i=0; i<navRoot.childNodes.length; i++) {
			node = navRoot.childNodes[i];
			if (node.id=="menuTopItem") {
				node.onmouseover=function() {
					this.className+=" over";
				}

                node.onfocus=function(){
                    this.className+=" over";
                }

				node.onmouseout=function() {
					this.className=this.className.replace(" over", "");
				}

                node.onblur=function() {
					this.className=this.className.replace(" over", "");
				}
			}
		}
	}
}
//--><!]]>

var plusApi_loaded = false;
var twitterApi_loaded = false;
var fbApi_loaded = false;

</script> 
  <noscript> 
   <meta http-equiv="refresh" content="0; URL=error.asp"> 
  </noscript> 
  <script type="text/javascript">
function loadLocalPage()
{
}
</script> 
  <script type="text/javascript">
    function doGAClicks(selectedItem) {
        //do nothing
    };

    function gaTrackEvent(category, action) {
        //do nothing
    };
</script> 
 </head> 
 <body lang="en" onload="startList();loadLocalPage(); displayMessage(&quot;&quot;); displayOnOfferTimeout();" onunload="closeChildren()"> 
  <div id="spinner" class="spinner"></div> 
  <script>    
    var spinnerDelayTimeout;
    
    var showSpinner = function(){};
    var spinnerElement = document.querySelector('body')



    var spinnerDelay = 3;
    

    function stopSpinner() {
        spinnerElement.classList.remove('show-spinner');
        cancelSpinnerTimeouts();
        expandSpinner();
    }

    function startSpinner() {
        expandSpinner();
        spinnerElement.classList.add('show-spinner');
    }
    
    
    function cancelSpinnerTimeouts() {
        clearTimeout(spinnerDelayTimeout);
    }
    
    function expandSpinner() {
        spinnerElement.classList.remove('minimize-spinner');
    }
    
    function minimizeSpinner() {
        spinnerElement.classList.add('minimize-spinner');
    }
    
    // stop spinner if a JS error occurred
    window.addEventListener('error', stopSpinner);
    
    // Mimimize spinner if clicked
    spinnerElement.addEventListener('click', minimizeSpinner);

    // Shows the spinner if page takes long to load
    // pass true to allow spinner to show even with a popup open
    (showSpinner = function() {
        var overridePopupCheck = arguments[0] ? arguments[0] : false;
        if (overridePopupCheck || !document.querySelector("#popupDiv")) {
            spinnerDelayTimeout = setTimeout(startSpinner, spinnerDelay*1000);
        }
        return true;
    })();



</script> 
  <script type="text/javascript">

function testValue(value, pattern)
{
  if(!value || !pattern)
    return false;

  if(pattern.constructor === RegExp)
    return pattern.test(value.toString());

  return value.toString() == pattern.toString();
}

function isGTM()
{
	return true;
}

function getSessionObject()
{
	return {av: {session: {language: "EN", 
role: "Internet", 
referrer: null, 
user_id: undefined, 
promo_codes: []}}};
}

function getErrorObject()
{
	
	return null;
	
}

function getPageObject()
{
	return {av: {page: { page_script: "/Online/login.asp", 
 search: { total_records: null, 
 total_pages: null, 
 page_size: null, 
 current_page: null, 
 criteria: { search_from :null, 
 search_to :null, 
 search_criteria :null, 
 category_filter :null, 
 city_filter :null, 
 venue_filter :null, 
 month_filter :null, 
 object_type_filter :null}}, 
 articles: [{article_name: "", article_title: "default header", article_type: "1", article_id: "F8103D8C-7EA0-4B4B-A37E-9DE398B9313D"},
{article_name: "", article_title: "default footer", article_type: "1", article_id: "5D09622E-A899-411D-B525-B2F262B34B63"}],

          articleExists: function (article_type, article_title)    
          {
            if (article_type == null && article_title == null)
            {
              if(this.articles.length)
                return true;
            }
            else if (article_type == null)
            {
              for(var i = 0; i < this.articles.length; i++) {
                  if(testValue(this.articles[i].article_title, article_title))
                    return true;
              }
            }
            else if (article_title == null)
            {
              for(var i = 0; i < this.articles.length; i++) {
                if (testValue(this.articles[i].article_type, article_type))
                  return true;
              }
            }
            else
            {
              for(var i = 0; i < this.articles.length; i++) {
                if (testValue(this.articles[i].article_title, article_title) && testValue(this.articles[i].article_type, article_type))
                  return true;
              }
            }
    
            return false;
          }
	}}};
}


function getOrderEventObject()
{
	return {event: {av : {event: {order: { action: ""}}}, toString: function() {return "av.event.order-" + this.av.event.order.action}}};
}

function getCartEventObject()
{
	return {event: {av : {event: {cart: { action: ""}}}, toString: function() {return "av.event.cart-" + this.av.event.cart.action}}};
}

function admissionExists(object, product_name)
{
	var ids = new Array();
	for (var i = 0; i < object.performances.length; i++)
	{
		if (testValue(object.performances[i].name, product_name) ||    
			testValue(object.performances[i].description, product_name) ||
			testValue(object.performances[i].short_description, product_name))
		{
			ids.push(object.performances[i].performance_id);
		}
	}
	if (ids.length > 0)
	{
		for (var i = 0; i < object.order_admissions.length; i++)
		{
			if (ids.indexOf(object.order_admissions[i].performance_id) != -1)
			{
				return true;
			}
		}
	}
	return false;
}

function bundleExists(object, product_name)
{
	var ids = new Array();
	for (var i = 0; i < object.bundles.length; i++)
	{
		if (testValue(object.bundles[i].name, product_name) ||    
			testValue(object.bundles[i].description, product_name) ||
			testValue(object.bundles[i].short_description, product_name))
		{
			ids.push(object.bundles[i].bundle_id);
		}
	}
	if (ids.length > 0)
	{
		for (var i = 0; i < object.order_bundle.length; i++)
		{
			if (ids.indexOf(object.order_bundle[i].bundle_id) != -1)
			{
				return true;
			}
		}
	}
	return false;
}

function miscItemExists(object, product_name)
{
	var ids = new Array();
	for (var i = 0; i < object.misc_items.length; i++)
	{
		if (testValue(object.misc_items[i].name, product_name) ||    
			testValue(object.misc_items[i].description, product_name) ||
			testValue(object.misc_items[i].short_description, product_name))
		{
			ids.push(object.misc_items[i].miscellaneous_item_id);
		}
	}
	if (ids.length > 0)
	{
		for (var i = 0; i < object.order_misc_items.length; i++)
		{
			if (ids.indexOf(object.order_misc_items[i].item_id) != -1)
			{
				return true;
			}
		}
	}
	return false;
}

function giftExists(object, product_name)
{
	var ids = new Array();
	for (var i = 0; i < object.gifts.length; i++)
	{
		if (testValue(object.gifts[i].name, product_name) ||    
			testValue(object.gifts[i].description, product_name) ||
			testValue(object.gifts[i].short_description, product_name))
		{
			ids.push(object.gifts[i].gift_id);
		}
	}
	if (ids.length > 0)
	{
		for (var i = 0; i < object.order_gifts.length; i++)
		{
			if (ids.indexOf(object.order_gifts[i].gift_id) != -1)
			{
				return true;
			}
		}
	}
	return false;
}

function storeValueExists(object, product_name)
{
	var ids = new Array();
	for (var i = 0; i < object.stored_values.length; i++)
	{
		if (testValue(object.stored_values[i].name, product_name) ||    
			testValue(object.stored_values[i].description, product_name) ||
			testValue(object.stored_values[i].short_description, product_name))
		{
			ids.push(object.stored_values[i].stored_value_id);
		}
	}
	if (ids.length > 0)
	{
		for (var i = 0; i < object.order_stored_values.length; i++)
		{
			if (ids.indexOf(object.order_stored_values[i].stored_value_id) != -1)
			{
				return true;
			}
		}
	}
	return false;
}

function productExists(object, product_type, product_name)
{
	var result = false;
	if (product_name == null && product_type == null)
	{
		if (object.order_admissions.length || object.order_bundle.length || object.order_misc_items.length ||
		object.order_gifts.length || object.order_stored_values.length)
			result = true;
	}
	else if (product_name == null)
	{
		if (testValue(product_type, "admission") && object.order_admissions.length)
			result = true;
		if (testValue(product_type, "bundle") && object.order_bundle.length)
			result = true;
		if (testValue(product_type, "miscellaneous_item") && object.order_misc_items.length)
			result = true;
		if (testValue(product_type, "gift") && object.order_gifts.length)
			result = true;
		if (testValue(product_type, "stored_value") && object.order_stored_values.length)
			result = true;
	}
	else if (product_type == null)
	{
		if (object.order_admissions.length)
		{
			result = admissionExists(object, product_name);
		}
		if (object.order_bundle.length)
		{
			result = bundleExists(object, product_name);
		}
		if (object.order_misc_items.length)
		{
			result = miscItemExists(object, product_name);
		}
		if (object.order_gifts.length)
		{
			result = giftExists(object, product_name);
		}
		if (object.order_stored_values.length)
		{
			result = storeValueExists(object, product_name);
		}
	}
	else
	{
		if (testValue(product_type, "admission") && object.order_admissions.length)
		{
			result = admissionExists(object, product_name);
		}
		if (testValue(product_type, "bundle") && object.bundles.length)
		{
			result = bundleExists(object, product_name);
		}
		if (testValue(product_type, "miscellaneous_item") && object.misc_items.length)
		{
			result = miscItemExists(object, product_name);
		}
		if (testValue(product_type, "gift") && object.gifts.length)
		{
			result = giftExists(object, product_name);
		}
		if (testValue(product_type, "stored_value") && object.stored_values.length)
		{
			result = storeValueExists(object, product_name);
		}
	}
	return result;
}

function admissionValue(object, product_name)
{
	var id = new Array();
	var result = 0;
	for (var i = 0; i < object.performances.length; i++)
	{
		if (testValue(object.performances[i].name, product_name) ||    
			testValue(object.performances[i].description, product_name) ||
			testValue(object.performances[i].short_description, product_name))
		{
			id.push(object.performances[i].performance_id);
		}
	}
	if (id.length > 0)
	{
		for (var i = 0; i < object.order_admissions.length; i++)
		{
			if (id.indexOf(object.order_admissions[i].performance_id) != -1)
			{
				result += object.order_admissions[i].amount.amount;
			}
		}
	}
	return result;
}

function bundleValue(object, product_name)
{
	var id = new Array();
	var result = 0;
	for (var i = 0; i < object.bundles.length; i++)
	{
		if (testValue(object.bundles[i].name, product_name) ||    
			testValue(object.bundles[i].description, product_name) ||
			testValue(object.bundles[i].short_description, product_name))
		{
			id.push(object.bundles[i].bundle_id);
		}
	}
	if (id.length > 0)
	{
		for (var i = 0; i < object.order_bundle_admissions.length; i++)
		{
			if (id.indexOf(object.order_bundle_admissions[i].bundle_id) != -1)
			{
				result += object.order_bundle_admissions[i].amount.amount;
			}
		}
	}
	return result;
}

function miscItemValue(object, product_name)
{
	var id = new Array();
	var result = 0;
	for (var i = 0; i < object.misc_items.length; i++)
	{
		if (testValue(object.misc_items[i].name, product_name) ||    
			testValue(object.misc_items[i].description, product_name) ||
			testValue(object.misc_items[i].short_description, product_name))
		{
			id.push(object.misc_items[i].miscellaneous_item_id);
		}
	}
	if (id.length > 0)
	{
		for (var i = 0; i < object.order_misc_items.length; i++)
		{
			if (id.indexOf(object.order_misc_items[i].item_id) != -1)
			{
				result += object.order_misc_items[i].amount.amount;
			}
		}
	}
	return result;
}

function giftValue(object, product_name)
{
	var id = new Array();
	var result = 0;
	for (var i = 0; i < object.gifts.length; i++)
	{
		if (testValue(object.gifts[i].name, product_name) ||    
			testValue(object.gifts[i].description, product_name) ||
			testValue(object.gifts[i].short_description, product_name))
		{
			id.push(object.gifts[i].gift_id);
		}
	}
	if (id.length > 0)
	{
		for (var i = 0; i < object.order_gifts.length; i++)
		{
			if (id.indexOf(object.order_gifts[i].gift_id) != -1)
			{
				result += object.order_gifts[i].pledge_amount.amount;
			}
		}
	}
	return result;
}

function storedValueValue(object, product_name)
{
	var id = new Array();
	var result = 0;
	for (var i = 0; i < object.stored_values.length; i++)
	{
		if (testValue(object.stored_values[i].name, product_name) ||    
			testValue(object.stored_values[i].description, product_name) ||
			testValue(object.stored_values[i].short_description, product_name))
		{
			id.push(object.stored_values[i].stored_value_id);
		}
	}
	if (id.length > 0)
	{
		for (var i = 0; i < object.order_stored_values.length; i++)
		{
			if (id.indexOf(object.order_stored_values[i].stored_value_id) != -1)
			{
				result += object.order_stored_values[i].amount.amount;
			}
		}
	}
	return result;
}

function productValue(object, product_type, product_name)
{
	var result = 0;
	if (product_name == null && product_type == null)
	{
		if (object.order_admissions.length)
		{
			for (var i = 0; i < object.order_admissions.length; i++)
			{
				result += object.order_admissions[i].amount.amount;
			}
		}
		if (object.order_bundle_admissions.length)
		{
			for (var i = 0; i < object.order_bundle_admissions.length; i++)
			{
				result += object.order_bundle_admissions[i].amount.amount;
			}
		}
		if (object.order_misc_items.length)
		{
			for (var i = 0; i < object.order_misc_items.length; i++)
			{
				result += object.order_misc_items[i].amount.amount;
			}
		}
		if (object.order_gifts.length)
		{
			for (var i = 0; i < object.order_gifts.length; i++)
			{
				result += object.order_gifts[i].pledge_amount.amount;
			}
		}
		if (object.order_stored_values.length)
		{
			for (var i = 0; i < object.order_stored_values.length; i++)
			{
				result += object.order_stored_values[i].amount.amount;
			}
		}
	}
	else if (product_name == null)
	{
		if (testValue(product_type, "admission") && object.order_admissions.length)
		{
			for (var i = 0; i < object.order_admissions.length; i++)
			{
				result += object.order_admissions[i].amount.amount;
			}
		}
		if (testValue(product_type, "bundle") && object.order_bundle_admissions.length)
		{
			for (var i = 0; i < object.order_bundle_admissions.length; i++)
			{
				result += object.order_bundle_admissions[i].amount.amount;
			}
		}
		if (testValue(product_type, "miscellaneous_item") && object.order_misc_items.length)
		{
			for (var i = 0; i < object.order_misc_items.length; i++)
			{
				result += object.order_misc_items[i].amount.amount;
			}
		}
		if (testValue(product_type, "gift") && object.order_gifts.length)
		{
			for (var i = 0; i < object.order_gifts.length; i++)
			{
				result += object.order_gifts[i].pledge_amount.amount;
			}
		}
		if (testValue(product_type, "stored_value") && object.order_stored_values.length)
		{
			for (var i = 0; i < object.order_stored_values.length; i++)
			{
				result += object.order_stored_values[i].amount.amount;
			}
		}
	}
	else if (product_type == null)
	{
		if (object.order_admissions.length)
		{
			result += admissionValue(object, product_name);
		}
		if (object.order_bundle_admissions.length)
		{
			result += bundleValue(object, product_name);
		}
		if (object.order_misc_items.length)
		{
			result += miscItemValue(object, product_name);
		}
		if (object.order_gifts.length)
		{
			result += giftValue(object, product_name);
		}
		if (object.order_stored_values.length)
		{
			result += storedValueValue(object, product_name);
		}
	}
	else
	{
		if (testValue(product_type, "admission") && object.order_admissions.length)
		{
			result += admissionValue(object, product_name);
		}
		else if (testValue(product_type, "bundle") && object.bundles.length)
		{
			result += bundleValue(object, product_name);
		}
		else if (testValue(product_type, "miscellaneous_item") && object.misc_items.length)
		{
			result += miscItemValue(object, product_name);
		}
		else if (testValue(product_type, "gift") && object.gifts.length)
		{
			result += giftValue(object, product_name);
		}
		else if (testValue(product_type, "stored_value") && object.stored_values.length)
		{
			result += storedValueValue(object, product_name);
		}
	}
	return result;
}

function admissionCount(object, product_name)
{
	var id = new Array();
	var result = 0;
	for (var i = 0; i < object.performances.length; i++)
	{
		if (testValue(object.performances[i].name, product_name) ||    
			testValue(object.performances[i].description, product_name) ||
			testValue(object.performances[i].short_description, product_name))
		{
			id.push(object.performances[i].performance_id);
		}
	}
	if (id.length > 0)
	{
		for (var i = 0; i < object.order_admissions.length; i++)
		{
			if (id.indexOf(object.order_admissions[i].performance_id) != -1)
			{
				result ++;
			}
		}
	}
	return result;
}

function bundleCount(object, product_name)
{
	var id = new Array();
	var result = 0;
	for (var i = 0; i < object.bundles.length; i++)
	{
		if (testValue(object.bundles[i].name, product_name) ||    
			testValue(object.bundles[i].description, product_name) ||
			testValue(object.bundles[i].short_description, product_name))
		{
			id.push(object.bundles[i].bundle_id);
		}
	}
	if (id.length > 0 && object.order_bundle_admissions.length)
	{
		for (var i = 0; i < object.order_bundle_admissions.length; i++)
		{
			if (id.indexOf(object.order_bundle_admissions[i].bundle_id) != -1)
			{
				result ++;
			}
		}
	}
	return result;
}

function miscItemCount(object, product_name)
{
	var id = new Array();
	var result = 0;
	for (var i = 0; i < object.misc_items.length; i++)
	{
		if (testValue(object.misc_items[i].name, product_name) ||    
			testValue(object.misc_items[i].description, product_name) ||
			testValue(object.misc_items[i].short_description, product_name))
		{
			id.push(object.misc_items[i].miscellaneous_item_id);
		}
	}
	if (id.length > 0 && object.order_misc_items.length)
	{
		for (var i = 0; i < object.order_misc_items.length; i++)
		{
			if (id.indexOf(object.order_misc_items[i].item_id) != -1)
			{
				result += parseFloat(object.order_misc_items[i].quantity);
			}
		}
	}
	return result;
}

function giftCount(object, product_name)
{
	var id = new Array();
	var result = 0;
	for (var i = 0; i < object.gifts.length; i++)
	{
		if (testValue(object.gifts[i].name, product_name) ||    
			testValue(object.gifts[i].description, product_name) ||
			testValue(object.gifts[i].short_description, product_name))
		{
			id.push(object.gifts[i].gift_id);
		}
	}
	if (id.length > 0)
	{
		for (var i = 0; i < object.order_gifts.length; i++)
		{
			if (id.indexOf(object.order_gifts[i].gift_id) != -1)
			{
				result ++;
			}
		}
	}
	return result;
}

function storedValueCount(object, product_name)
{
	var id = new Array();
	var result = 0;
	for (var i = 0; i < object.stored_values.length; i++)
	{
		if (testValue(object.stored_values[i].name, product_name) ||    
			testValue(object.stored_values[i].description, product_name) ||
			testValue(object.stored_values[i].short_description, product_name))
		{
			id.push(object.stored_values[i].stored_value_id);
		}
	}
	if (id.length > 0)
	{
		for (var i = 0; i < object.order_stored_values.length; i++)
		{
			if (id.indexOf(object.order_stored_values[i].stored_value_id) != -1)
			{
				result ++;
			}
		}
	}
	return result;
}

function productCount(object, product_type, product_name)
{
	var result = 0;
	if (product_name == null && product_type == null)
	{
		if (object.order_admissions.length)
		{
			result += object.order_admissions.length;
		}
		if (object.order_bundle_admissions.length)
		{
			result += object.order_bundle_admissions.length;
		}
		if (object.order_misc_items.length)
		{
			for (var i = 0; i < object.order_misc_items.length; i++)
				result += parseFloat(object.order_misc_items[i].quantity);
		}
		if (object.order_gifts.length)
		{
			result += object.order_gifts.length;
		}
		if (object.order_stored_values.length)
		{
			result += object.order_stored_values.length;
		}
	}
	else if (product_name == null)
	{
		if (testValue(product_type, "admission") && object.order_admissions.length)
		{
			result += object.order_admissions.length;
		}
		if (testValue(product_type, "bundle") && object.order_bundle_admissions.length)
		{
			result += object.order_bundle_admissions.length;
		}
		if (testValue(product_type, "miscellaneous_item") && object.order_misc_items.length)
		{
			for (var i = 0; i < object.order_misc_items.length; i++)
				result += parseFloat(object.order_misc_items[i].quantity);
		}
		if (testValue(product_type, "gift") && object.order_gifts.length)
		{
			result += object.order_gifts.length;
		}
		if (testValue(product_type, "stored_value") && object.order_stored_values.length)
		{
			result += object.order_stored_values.length;
		}
	}
	else if (product_type == null)
	{
		if (object.order_admissions.length)
		{
			result += admissionCount(object, product_name);
		}
		if (object.order_bundle_admissions.length)
		{
			result += bundleCount(object, product_name);
		}
		if (object.order_misc_items.length)
		{
			result += miscItemCount(object, product_name);
		}
		if (object.order_gifts.length)
		{
			result += giftCount(object, product_name);
		}
		if (object.stored_values.length)
		{
			result += storedValueCount(object, product_name);
		}
	}
	else
	{
		if (testValue(product_type, "admission") && object.order_admissions.length)
		{
			result += admissionCount(object, product_name);
		}
		if (testValue(product_type, "bundle") && object.order_bundle_admissions.length)
		{
			result += bundleCount(object, product_name);
		}
		if (testValue(product_type, "miscellaneous_item") && object.order_misc_items.length)
		{
			result += miscItemCount(object, product_name);
		}
		if (testValue(product_type, "gift") && object.order_gifts.length)
		{
			result += giftCount(object, product_name);
		}
		if (testValue(product_type, "stored_value") && object.order_stored_values.length)
		{
			result += storedValueCount(object, product_name);
		}
	}
	return result;
}

function getPerformance(object, performance_id)
{
	var result = null;
    
	if (performance_id != null && object.performances.length)
	{
		for (var i = 0; i < object.performances.length; i++)
		{
			if (testValue(object.performances[i].performance_id, performance_id))
			{
				result = object.performances[i];
				break;
			}
		}    
	}
    
	return result;
}

function getBundle(object, bundle_id)
{
	var result = null;
    
	if (bundle_id != null && object.bundles.length)
	{
		for (var i = 0; i < object.bundles.length; i++)
		{
			if (testValue(object.bundles[i].bundle_id, bundle_id))
			{
				result = object.bundles[i];
				break;
			}
		}    
	}
    
	return result;
}

function getMiscItem(object, miscitem_id)
{
	var result = null;
    
	if (miscitem_id != null && object.misc_items.length)
	{
		for (var i = 0; i < object.misc_items.length; i++)
		{
			if (testValue(object.misc_items[i].miscellaneous_item_id, miscitem_id))
			{
				result = object.misc_items[i];
				break;
			}
		}    
	}
    
	return result;
}

function getGift(object, gift_id)
{
	var result = null;
    
	if (gift_id != null && object.gifts.length)
	{
		for (var i = 0; i < object.gifts.length; i++)
		{
			if (testValue(object.gifts[i].gift_id, gift_id))
			{
				result = object.gifts[i];
				break;
			}
		}    
	}
    
	return result;
}

function getStoredValue(object, storedvalue_id)
{
	var result = null;
    
	if (storedvalue_id != null && object.stored_values.length)
	{
		for (var i = 0; i < object.stored_values.length; i++)
		{
			if (testValue(object.stored_values[i].stored_value_id, storedvalue_id))
			{
				result = object.stored_values[i];
				break;
			}
		}    
	}
    
	return result;
}

function createGAAdmissions(object, transactionProducts)
{
	if( object.order_admissions.length > 0 )
	{
		var admissionList = new Array();
        var admissionPTList = new Array();
		for (var i = 0; i < object.order_admissions.length; i++)
		{
            var perfID = object.order_admissions[i].performance_id;
			if( admissionList[ perfID ] == undefined )
            {
              admissionList[ perfID ] = new Array();
            }
            admissionList[ perfID ].push( object.order_admissions[i] );

            if( admissionPTList[ perfID ] == undefined )
            {
              admissionPTList[ perfID ] = new Array();
            }
            var curPTList = admissionPTList[ perfID ];
            var admPTID = object.order_admissions[i].price_type;
            if (curPTList[ admPTID ] == undefined )
            {
              curPTList[ admPTID ] = new Array();
            }
            curPTList[ admPTID ].push( object.order_admissions[i] );
		}
		for( var guid in admissionList )
		{
			var admNode = admissionList[ guid ][ 0 ];
            var perfID = admNode.performance_id;
			var perfNode;
			for (var i = 0; i < object.performances.length; i++)
			{
				if (perfID == object.performances[i].performance_id)
				{
					perfNode = object.performances[i];
					break;
				}
			}    
            var perfName = perfNode.name;
            var perfDesc = perfNode.short_description;
            if (perfDesc == "" || perfDesc == null) {
               perfDesc = perfName;
            }
            var seriesName = perfNode.series_name;

            var curPTList = admissionPTList[ perfID ];
			for ( var guid in curPTList )
			{
				seatNode = curPTList[ guid ][ 0 ];
                var admAmount = seatNode.amount.amount;
                var priceTypeLabel = seatNode.price_type;
                var priceZoneLabel = seatNode.price_zone;

				var admissions = { "sku": perfName + " Admission " + priceTypeLabel + "-" + priceZoneLabel,
				"name": perfDesc + " Admission",    
				"category": seriesName + " Admission",
				"price": admAmount,
				"quantity": curPTList[ guid ].length
				};
    
				transactionProducts.push(admissions);
			}
		}
	}
}

function createGABundles(object, transactionProducts)
{
	// roll up bundles by id and price
	// object.order_bundle - data about the bundle on the order: amount, total
	// object.bundles - data about the bundle item: name & description

	if( object.bundles.length > 0 )
	{
		var bundleList = {};
		for (var i = 0; i < object.order_bundle.length; i++)
		{
			var bundleID = object.order_bundle[i].bundle_id;
			var bundleAmount = object.order_bundle[i].amount.amount;
    
			if( bundleList[ bundleID ] == undefined )
			{
				bundleList[ bundleID ] = {};
			}
			if( bundleList[ bundleID ][ bundleAmount ] == undefined )
			{
				bundleList[ bundleID ][ bundleAmount ] = 0;
			}
			bundleList[ bundleID ][ bundleAmount ]++;
		}
    
		for (var i = 0; i < object.bundles.length; i++)
		{
			var bundleID = object.bundles[i].bundle_id;
			var sku = object.bundles[i].name;
			var name = object.bundles[i].description;
    
			for(var amount in bundleList[bundleID])
			{
				transactionProducts.push(
				{
					"sku": sku,
					"name": name,    
					"price": amount,
					"quantity": bundleList[bundleID][amount]
				});
			}
		}
	}
}

function createGAMiscItems(object, transactionProducts)
{
	if( object.misc_items.length > 0 && object.order_misc_items.length > 0)
	{
		var itemList = new Array();
		var itemAmountList = new Array();
		for (var i = 0; i < object.order_misc_items.length; i++)
		{
			var itemID = object.order_misc_items[i].item_id;
			if( itemList[ itemID ] == undefined )
            {
              itemList[ itemID ] = new Array();
            }
            itemList[ itemID ].push( object.order_misc_items[i] );
			if( itemAmountList[ itemID ] == undefined )
              itemAmountList[ itemID ] = parseFloat(object.order_misc_items[i].amount.amount);
		}
		for (var i = 0; i < object.misc_items.length; i++)
		{
			var miscItems = { "sku": object.misc_items[i].name,
			"name": object.misc_items[i].description,    
			"category": object.misc_items[i].category,    
			"price": itemAmountList[object.misc_items[i].miscellaneous_item_id],
			"quantity": itemList[object.misc_items[i].miscellaneous_item_id].length
			};
    
			transactionProducts.push(miscItems);
		}
	}
}

function createGAGifts(object, transactionProducts)
{
	if( object.gifts.length > 0 && object.order_gifts.length > 0)
	{
		var giftList = new Array();
		for (var i = 0; i < object.gifts.length; i++)
		{
			var giftID = object.gifts[i].gift_id;
			if( giftList[ giftID ] == undefined )
            {
              giftList[ giftID ] = new Array();
            }
            giftList[ giftID ] = object.gifts[i].name;
		}
		for (var i = 0; i < object.order_gifts.length; i++)
		{
			var gifts = { "sku": giftList[object.order_gifts[i].gift_id],
			"name": object.order_gifts[i].appeal_id,    
			"category": object.order_gifts[i].fund,    
			"price": object.order_gifts[i].pledge_paid_amount.amount,
			"quantity": 1
			};
    
			transactionProducts.push(gifts);
		}
	}
}

function createGAStoredValueItems(object, transactionProducts)
{
	if( object.stored_values.length > 0 )
	{
		var storedValueNameList = new Array();
        var storedValueTypeList = new Array();
        var storedValueDescList = new Array();
		for (var i = 0; i < object.stored_values.length; i++)
		{
			var certID = object.stored_values[i].stored_value_id;
			if( storedValueNameList[ certID ] == undefined )
            {
              storedValueNameList[ certID ] = new Array();
              storedValueTypeList[ certID ] = new Array();
              storedValueDescList[ certID ] = new Array();
            }
            storedValueNameList[ certID ] = object.stored_values[i].name;
            storedValueDescList[ certID ] = object.stored_values[i].description;
            storedValueTypeList[ certID ] = object.stored_values[i].type;
		}
		for (var i = 0; i < object.order_stored_values.length; i++)
		{
			var storedValueItems = { "sku": storedValueNameList[object.order_stored_values[i].stored_value_id],
			"name": storedValueDescList[object.order_stored_values[i].stored_value_id],    
			"category": storedValueTypeList[object.order_stored_values[i].stored_value_id],    
			"price": parseFloat(object.order_stored_values[i].amount.amount),
			"quantity": 1
			};
    
			transactionProducts.push(storedValueItems);
		}
	}
}

function createGATransaction(object)
{
	var output;
	var transactionProducts = new Array;
    
	createGAAdmissions(object, transactionProducts);
	createGABundles(object, transactionProducts);
	createGAMiscItems(object, transactionProducts);
	createGAGifts(object, transactionProducts);
	createGAStoredValueItems(object, transactionProducts);
    
	output = { "transactionId": object.order_number.toString(),
				"transactionAffiliation": object.affiliation == null ? "" : object.affiliation.toString(),    
				"transactionTotal": object.grand_total.amount,
				"transactionTax": object.total_tax.amount,
				"transactionShipping": object.delivery_charges.amount,
				"transactionCity": object.customer_city == null ? "" : object.customer_city.toString(),
				"transactionState": object.customer_state == null ? "" : object.customer_state.toString(),
				"transactionCountry": object.customer_country == null ? "" : object.customer_country.toString(),
				"transactionProducts": transactionProducts
			};
    
	return output;
}


</script> 
  <script type="text/javascript">
		var dataLayer = new Array();
		dataLayer.push(getSessionObject());
		dataLayer.push(getPageObject());
		var av_error = getErrorObject();
		if (av_error != null)
			dataLayer.push(av_error);
		
	</script> <!-- Google Tag Manager --> 
  <noscript>
   <iframe src="//www.googletagmanager.com/ns.html?id=GTM-MSC27D" height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript> 
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-MSC27D');</script> <!-- End Google Tag Manager --> 
  <div role="banner" id="header"> <!-- customer/order information --> 
   <div class="customer-options" id="customer-utilities"> <!--ORDER DETAILS BOX--> 
    <div id="orderInfo"> <!-- This is the same information that displays in the grey navigation bar at the top, showing and formatted for the mobile view, when that bar is hidden. --> <!-- The order of the html elements is different between the two display cases, so we have some duplication of some of the elements.  --> 
     <div id="customer-order-info"> 
      <div class="hide-when-window-large"> 
       <div class="form-group"> <span class="greeting-message">Order for</span> <span class="greeting-name">Guest</span> 
       </div> 
      </div> 
      <div class="customer-greeting"> 
      </div> 
      <div class="customer-order shopping-cart-details order-message "> <span id="orderInfoEmptyMessage">Your shopping cart is empty.</span> 
      </div> 
      <div class="customer-buttons"> 
       <div class="cart-callout"> <button title="Cart" onclick="submitNewForm(&quot;shoppingCart.asp?sToken=1,afa69454,62aaa4c1,297E1D84-F698-49FC-A391-EF0707FD863E,26a3NPt62KBIiQJSJZiX0cLXCMs=&quot;)" id="orderInfoCartLink" class="shopping-cart-link btn btn-secondary"> Cart </button> 
       </div> 
      </div> 
     </div> 
    </div> <!-- This is the grey navigation bar at the top. Does not show when in mobile view. --> 
    <div id="orderInfoSecondBar" class="hide-when-window-small"> 
     <div class="form-group"> <span class="greeting-message">Order for</span> <span class="greeting-name">Guest</span> 
     </div> 
    </div> 
    <div class="menuContainer utility-nav"> 
     <ul id="utility-menu" class="nav"> 
      <li class="utility-menu-item" id="utility-menu-item-login"> <a href="login.asp" title="Login" class="menu_item"> Login </a> </li> 
     </ul> 
    </div> 
   </div> 
   <div class="header-content container"> <a href="default.asp" shape="rect" xmlns="http://www.w3.org/1999/xhtml" xmlns:av="http://www.audienceview.com/xml/email/"><img alt="" src="/content/Images/branding/master-brand-on-white220x51.jpg" style="width: 220px;"> </a> 
   </div> <button type="button" class="menu-toggle menu-button btn btn-secondary"> <span class="fas fa-align-justify"></span> </button> <button type="button" class="menu-toggle sidebar-button btn btn-secondary"> <span class="fas fa-shopping-cart"></span> </button> 
  </div> 
  <div class="content-wrapper"> 
   <div aria-label="Main" role="navigation" id="menu"> 
    <div class="menuContainer main-nav"> 
     <ul id="menuTop" class="nav clearfix"> 
      <li class="menuTopItem  has-sub-menu clearfix dropdown" id="menuTopItem0"> <a href="javascript:void(0);" class="menu_item empty-link-dropdown-toggle" data-toggle="dropdown"> <span class="menu-label">Event Categories</span> <span class="fas fa-chevron-down"></span> <span class="fas fa-chevron-up"></span> </a> 
       <div class="menuSub dropdown-menu"> <a class="menuSubItem dropdown-item btn" href="javascript:void(0);" onclick="sTokenLink(&quot;default.asp?doWork::WScontent::loadArticle=Load&amp;BOparam::WScontent::loadArticle::article_id=64C39D67-4069-46E6-B3B1-060BB7601A7A&amp;menu_id=FD275C5F-EEF2-4DF5-8384-449CED98A9D0&quot;, &quot;sToken&quot;, &quot;1,afa69454,62aaa4c1,297E1D84-F698-49FC-A391-EF0707FD863E,26a3NPt62KBIiQJSJZiX0cLXCMs=&quot;)"> All Events </a> <a class="menuSubItem dropdown-item btn" href="javascript:void(0);" onclick="sTokenLink(&quot;default.asp?doWork::WScontent::loadArticle=Load&amp;BOparam::WScontent::loadArticle::article_id=DAB5F2E9-8EEC-4E23-B330-2AC655F4123B&amp;menu_id=FD275C5F-EEF2-4DF5-8384-449CED98A9D0&quot;, &quot;sToken&quot;, &quot;1,afa69454,62aaa4c1,297E1D84-F698-49FC-A391-EF0707FD863E,26a3NPt62KBIiQJSJZiX0cLXCMs=&quot;)"> Alumni Events </a> <a class="menuSubItem dropdown-item btn" href="javascript:void(0);" onclick="sTokenLink(&quot;default.asp?doWork::WScontent::loadArticle=Load&amp;BOparam::WScontent::loadArticle::article_id=D364B425-0DDC-4960-AC9A-F2975C565B65&amp;menu_id=FD275C5F-EEF2-4DF5-8384-449CED98A9D0&quot;, &quot;sToken&quot;, &quot;1,afa69454,62aaa4c1,297E1D84-F698-49FC-A391-EF0707FD863E,26a3NPt62KBIiQJSJZiX0cLXCMs=&quot;)"> Athletics </a> <a class="menuSubItem dropdown-item btn" href="javascript:void(0);" onclick="sTokenLink(&quot;default.asp?doWork::WScontent::loadArticle=Load&amp;BOparam::WScontent::loadArticle::article_id=D7C77D98-A674-48B0-9300-79CB7E696DA0&amp;menu_id=FD275C5F-EEF2-4DF5-8384-449CED98A9D0&quot;, &quot;sToken&quot;, &quot;1,afa69454,62aaa4c1,297E1D84-F698-49FC-A391-EF0707FD863E,26a3NPt62KBIiQJSJZiX0cLXCMs=&quot;)"> College of Performing Arts </a> <a class="menuSubItem dropdown-item btn" href="javascript:void(0);" onclick="sTokenLink(&quot;default.asp?doWork::WScontent::loadArticle=Load&amp;BOparam::WScontent::loadArticle::article_id=714472F4-6837-41E9-B1BF-A59344D23123&amp;menu_id=FD275C5F-EEF2-4DF5-8384-449CED98A9D0&quot;, &quot;sToken&quot;, &quot;1,afa69454,62aaa4c1,297E1D84-F698-49FC-A391-EF0707FD863E,26a3NPt62KBIiQJSJZiX0cLXCMs=&quot;)"> Musco Center for the Arts </a> <a class="menuSubItem dropdown-item btn" href="javascript:void(0);" onclick="sTokenLink(&quot;default.asp?doWork::WScontent::loadArticle=Load&amp;BOparam::WScontent::loadArticle::article_id=5B98B530-C0F2-46A7-ABCE-D99C4BDB0986&amp;menu_id=FD275C5F-EEF2-4DF5-8384-449CED98A9D0&quot;, &quot;sToken&quot;, &quot;1,afa69454,62aaa4c1,297E1D84-F698-49FC-A391-EF0707FD863E,26a3NPt62KBIiQJSJZiX0cLXCMs=&quot;)"> Student Events </a> 
       </div> </li> 
      <li class="menuTopItem " id="menuTopItem1"> <a class="menu_item menu-link" href="javascript:void(0);" onclick="sTokenLink(&quot;default.asp?doWork::WScontent::loadArticle=Load&amp;BOparam::WScontent::loadArticle::article_id=D4F41F43-2D55-4774-9081-7286956F5B3D&amp;menu_id=3CD3099C-E1FA-45ED-8066-9C7856768BBA&quot;, &quot;sToken&quot;, &quot;1,afa69454,62aaa4c1,297E1D84-F698-49FC-A391-EF0707FD863E,26a3NPt62KBIiQJSJZiX0cLXCMs=&quot;)"> <span class="menu-label">Make a Donation</span> </a> </li> 
      <li class="menuTopItem " id="menuTopItem2"> <a class="menu_item menu-link" href="javascript:void(0);" onclick="sTokenLink(&quot;maintainAccount.asp?menu_id=103BABFA-AB3A-407C-AFD8-71067DA567B8&quot;, &quot;sToken&quot;, &quot;1,afa69454,62aaa4c1,297E1D84-F698-49FC-A391-EF0707FD863E,26a3NPt62KBIiQJSJZiX0cLXCMs=&quot;)"> <span class="menu-label">Login/Manage Account</span> </a> </li> 
      <li class="menuTopItem" id="menuTopItem-help"> <button class="menu_item menu-link btn btn-link btn-link-text" type="button" onclick="new showInformationPopup( 'Help', 'loadArticle.asp?BOparam::WScontent::loadArticle::article_id=F8103D8C-7EA0-4B4B-A37E-9DE398B9310C')">Help</button> </li> 
     </ul> 
    </div> 
   </div> <!-- CONTENT START --> 
   <div id="content"> 
    <div class="container"> 
     <div style="width:70%; margin-left:auto; margin-right:auto;" xmlns="http://www.w3.org/1999/xhtml" xmlns:av="http://www.audienceview.com/xml/email/"> 
      <h2>Welcome</h2> 
      <p>If you have never purchased a ticket at Chapman before, please proceed with creating a new account.</p> 
      <p>If you need assistance, please contact Chapman Ticketing at 714-997-6812. Chapman Ticketing is open Monday through Friday, 9 a.m.-4 p.m.</p> 
     </div> 
     <div role="main" class="bodyDetails" id="login"> 
      <div class="account-box page-heading"> 
       <h1>My account</h1> 
      </div> 
      <div class="login-form account-box"> 
       <div aria-live="polite" class="account-box login sso"> 
        <h3 id="login-title">Existing users</h3> 
        <div class="sso-login-options unstyled"> 
         <div> <a href="/Shibboleth.sso/Login?target=https%3A%2F%2Ftickets%2Echapman%2Eedu%2FOnline%2Fdefault%2Easp&amp;entityID=https://sts.windows.net/809929af-2d25-45bf-9837-089eb9cfbd01/" class="Shibboleth sso-login btn btn-primary"> <!-- img will be specified in css --> <span class="sso-login-text">Chapman University Students/Faculty/Staff Login</span> </a> 
         </div> 
         <div> <button type="button" aria-controls="login-content" class="show-standard-login btn btn-link btn-link-text"> <span class="sso-login-text">General Login</span> </button> 
         </div> 
        </div> 
        <form role="form" aria-labelledby="login-title" action="login.asp" method="post"> 
         <input type="hidden" name="sToken" value="1,afa69454,62aaa4c1,297E1D84-F698-49FC-A391-EF0707FD863E,26a3NPt62KBIiQJSJZiX0cLXCMs="> 
         <input type="hidden" name="targetPage" value="default.asp"> 
         <input type="hidden" name="doLogin" value="1"> 
         <div id="login-content" class="standard-login-options unstyled "> 
          <div> <label for="login-user-name" class="field-label">Username</label> 
           <input type="text" id="login-user-name" name="loginName" value="" size="34" class="form-control full-width"> 
          </div> 
          <div> <label for="login-password" class="field-label">Password</label> <span class="forgot-password"> <a href="#" class="btn-link btn-link-black btn-unstyled" onclick="submitNewForm(&quot;forgotPassword.asp?sToken=1%2Cafa69454%2C62aaa4c1%2C297E1D84-F698-49FC-A391-EF0707FD863E%2C26a3NPt62KBIiQJSJZiX0cLXCMs%3D&amp;targetPage=default.asp&quot;)">Reset your password</a> </span> 
           <input type="password" id="login-password" autocomplete="off" name="loginPassword" size="34" class="form-control full-width"> 
          </div> 
          <div> 
           <input class="buttonBreak btn btn-primary btn-block" type="submit" name="login" value="Login" onclick="doGAClicks('Login')"> 
          </div> 
         </div> 
        </form> 
       </div> 
       <div role="region" aria-label="Create a New Account" class="account-box create-account-box "> 
        <p> If you want us to remember your information for next time you can create an account as well. </p> <a href="#" name="create" onclick="doGAClicks('Start'); submitNewForm(&quot;createAccount.asp?sToken=1,afa69454,62aaa4c1,297E1D84-F698-49FC-A391-EF0707FD863E,26a3NPt62KBIiQJSJZiX0cLXCMs=&amp;targetPage=default.asp&quot;)" class="btn btn-secondary btn-block">Create a New Account</a> 
       </div><!--\\ .bodyDetails #login --> 
      </div> 
     </div><!--\\ .bodyDetails #login --> 
    </div><!--\\ .bodyDetails --> 
   </div><!--\\ .container --> 
  </div><!--\\ #content --> 
  <div role="contentinfo" id="footer"> 
   <div class="footer-content container"> 
    <div class="row" xmlns="http://www.w3.org/1999/xhtml" xmlns:av="http://www.audienceview.com/xml/email/"> 
     <div class="col-lg-4" style="padding-bottom:20px;"> 
      <div class="address">
       <span class="addr-name">Orange Campus</span> 
       <br clear="none"> One University Drive
       <br clear="none"> Orange, CA 92866
      </div> 
     </div> 
     <div class="col-lg-4"> 
      <div class="address">
       <span class="addr-name">Rinker Health Science Campus</span> 
       <br clear="none"> 9401 Jeronimo Road
       <br clear="none"> Irvine, CA 92618
      </div> 
     </div> 
    </div> 
    <div class="row" xmlns="http://www.w3.org/1999/xhtml" xmlns:av="http://www.audienceview.com/xml/email/"> 
     <div class="col-lg-8"> 
      <ul class="list-inline"> 
       <li><a class="footer_text" href="default.asp?BOparam::WScontent::loadArticle::article_id=19BFE0DD-B1B8-4042-B249-42A04662171E" shape="rect">Terms and Conditions</a> </li> 
       <li><a class="footer_text" href="default.asp?BOparam::WScontent::loadArticle::article_id=D1D2067D-493A-4F5C-8961-A15B38197BF2" shape="rect">Privacy Policy</a> </li> 
       <li><a class="footer_text" href="default.asp?BOparam::WScontent::loadArticle::article_id=446BE6E4-CF8E-40E7-ACA1-48CDCB77C83B" shape="rect">Accessibility Information</a> </li> 
      </ul> 
     </div> 
     <div class="col-lg-4"> 
      <p class="small"><a href="https://www.chapman.edu/" target="_blank" title="Visit chapman.edu for more information" shape="rect">Chapman University</a> © 2021</p> 
     </div> 
    </div> 
   </div> 
  </div><!--\\ .content-wrapper --> 
  <div id="fade" class="black_overlay"></div> 
  <script type="text/javascript">
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({ pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE }, 'google_translate_element');
    }
</script> 
  <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script> <!-- inclusion of bootstrap.js --> <!-- http://twitter.github.com for documentation on bootstrap --> 
  <script src="/lib/bootstrap/js/bootstrap.bundle.min.js?_=7.48.0" type="text/javascript"></script> <!-- end of bootstrap.js --> <!-- Font Awesome for icons --> 
  <script src="/lib/fontawesome-free/js/all.min.js"></script> <!-- contains bootstrap specific function declarations --> 
  <script src="bootstrap-functions.js?_=7.48.0" type="text/javascript"></script> <!-- Logout Handler --> 
  <script>
$(document).ready(function() {
    var body = $("body");
    
    body
    .on("logged-out", function(e) {
        var targetPage = "login.asp?";
        window.location.assign("login.asp?targetPage="+encodeURIComponent(targetPage));
    });
    
    // on pressing Enter key on an anchor trigger click
    $("a").keypress(function(e){
      if(e.keyCode == 13){
        $(this).trigger("click");
      }
    });
    
    // When page is loaded make sure the Page Load Spinner is not shown
    if (spinnerDelayTimeout) {
        cancelSpinnerTimeouts();
    }
    
    body.removeClass("show-spinner");
    
    // Show spinner when form submitted or link clicked
    var onSubmit;
    $("form").each(
      //Trigger the spinner after any other onsubmit functions for the form
      function(index)
      {
        onSubmit = $(this).attr("onsubmit");
        if ( onSubmit && onSubmit != "" ) {
          onSubmit = onSubmit.trim();
          // if the submit is "returning", we need to && showSpinner otherwise it won't be called
          var returnIndex = onSubmit.indexOf("return");
          if ( returnIndex != -1 ) {
            // remove any trailing semi-colons
            if ( onSubmit.indexOf(";") == onSubmit.length-1 )
              onSubmit = onSubmit.substr(0, onSubmit.length-1);

            // wrap the return in () in case it contains ||
            // (add 6 to strip the original "return")
            onSubmit = onSubmit.substr(0, returnIndex) + "return (" + onSubmit.substr(returnIndex + 6) + ")";

            // and then append the call to the spinner
            onSubmit += " && showSpinner()";
          }
          else {
            onSubmit += ";showSpinner()";
          }
        }
        else {
          onSubmit = "showSpinner()";
        }
        $(this).attr("onsubmit", onSubmit);
      }
    );

    // attach an event listener to each <a> tag to show the spinner if needed
    // only do this if the <a> tag has an "href" attribute, so we don't show
    // the spinner if staying on the page.  If navigating away from the page
    // via an onClick, we are assuming the onClick handles the display of the spinner
    // (or submits the form with jQuery, so the spinner attached to the form.submit
    // is fired)
    $("a").click(function(e) {
      var href = $(this).attr("href") || "";
      var target = $(this).attr("target") || "";

      if ((target == "" || /^(_self|_top|_parent)/.test(href)) && href != "" && !/^(#|javascript:|mailto:|file:)/.test(href))
        showSpinner();
    });
});
</script> <!-- CONTENT END --> 
  <script type="text/javascript">
    $(document).ready(function(){
        $(".show-standard-login").click(function(){
            $(".standard-login-options").toggleClass("active");
            $(".show-standard-login").hide();
        });
    });
    </script>  
  <script>
  $(function(){

    // "Continue Shopping" and "Look for other events" buttons to redirect back to Brochure page user came from
    $("a[name=continue-shopping], a[name=continueShopping], input[name=startOver], a[name=error-StartOver], input[name=error-StartOver]").on("click", function(e) {
      var returnTo = getCookie('returnTo');
      if(returnTo){
        e.preventDefault();
        deleteCookie('returnTo');
        window.location.href = returnTo;
      }
    })

    // "New Order" button to redirect to EIF home page
    $("input.new-order,input[name=cancel-order]").on("click", function(e){
         var returnTo = getCookie('returnTo');
          if(returnTo){
            e.preventDefault();
            $("#popupDiv_okayButton").on("click", function(e){
               $.ajax({
                 url: 'clearOrder.asp',
                 complete: function() {
                    deleteCookie('returnTo');
                    window.location.href = returnTo;    
                 }
                });
    
             });
          }
    })
  });

//adding the returnTo to the cookie
  var returnTo = "";

  if (returnTo) {
      var reffA = document.createElement('a');
      reffA.href = returnTo;

    if(reffA.host != window.location.host) {
      setCookie("returnTo", returnTo, 1);
    }
  }

  /*
    *****************************************************
    Cookie methods
    *****************************************************
  */
  function setCookie(cname, cvalue, exdays) {
      var d = new Date();
      d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
      var expires = "expires="+d.toUTCString();
      document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
  }

  function getCookie(cname) {
      var name = cname + "=";
      var ca = document.cookie.split(';');
      for(var i = 0; i < ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == ' ') {
              c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
              return c.substring(name.length, c.length);
          }
      }
      return "";
  }

  function deleteCookie(cname) {
      setCookie(cname, "", -1);
  }
</script>
 </body>
</html>